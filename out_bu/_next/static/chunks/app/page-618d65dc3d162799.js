(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{6532:function(e,t,a){Promise.resolve().then(a.bind(a,1374))},1374:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return N}});var s=a(7437),l=a(2265),r=a(456),n=a(7625),i=a(1278),c=a(6940),d=a(7059),o=a(2027),m=a(4515),x=a(6933),h=a(4962),p=a(8270),u=e=>{let{data:t,height:a=400}=e,l=e=>"$".concat(Math.round(e).toLocaleString()),r=(()=>{if(!t||0===t.length)return;let e=t[0];return 2*(e.debt+e.baseEquity+e.appreciation+e.btcValue)})(),u=(()=>{let e=t.map(e=>parseInt(e.date)).filter(e=>!isNaN(e)),a=Math.min(...e),s=Math.max(...e);return[{year:"2024",date:"Apr 20"},{year:"2028",date:"Apr 13"},{year:"2032",date:"Apr 15"},{year:"2036",date:"Apr 17"},{year:"2040",date:"Apr 19"},{year:"2044",date:"Apr 21"}].filter(e=>{let t=parseInt(e.year);return t>=a&&t<=s+1})})();return t.some(e=>e.totalValue>(r||1/0)),(0,s.jsx)("div",{className:"w-full",children:(0,s.jsx)(n.h,{width:"100%",height:a,children:(0,s.jsxs)(i.T,{data:t,margin:{top:20,right:30,left:20,bottom:5},children:[(0,s.jsx)(c.q,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),(0,s.jsx)(d.K,{dataKey:"date",tick:{fontSize:12},tickLine:{stroke:"#ccc"},interval:0,tickFormatter:(e,t)=>t%12==0&&4===e.length?e:""}),(0,s.jsx)(o.Q,{tick:{fontSize:12},tickLine:{stroke:"#ccc"},tickFormatter:l,domain:[0,r||1e6],allowDataOverflow:!0}),(0,s.jsx)(m.u,{content:(0,s.jsx)(e=>{let{active:t,payload:a,label:n}=e;if(t&&a&&a.length){var i;let e=(null===(i=a.find(e=>"BTC Value"===e.name))||void 0===i?void 0:i.payload.totalValue)||0;return(0,s.jsxs)("div",{className:"bg-white p-3 border border-gray-200 rounded-lg shadow-lg",children:[(0,s.jsx)("p",{className:"font-semibold text-gray-900",children:n}),a.map((e,t)=>(0,s.jsxs)("p",{style:{color:e.color},className:"text-sm",children:[(0,s.jsxs)("span",{className:"font-medium",children:[e.name,":"]})," ",l(e.value)]},t)),(0,s.jsxs)("div",{className:"border-t pt-2 mt-2",children:[(0,s.jsxs)("p",{className:"text-sm font-semibold text-gray-700",children:["Total Value: ",l(e)]}),r&&e>r&&(0,s.jsx)("p",{className:"text-xs text-orange-600 mt-1",children:"⚠️ Chart Y-axis capped for visibility - actual values shown above"})]})]})}return null},{})}),(0,s.jsx)(x.D,{}),u.map(e=>(0,s.jsx)(h.d,{x:e.year,stroke:"#3b82f6",strokeWidth:1},e.year)),(0,s.jsx)(p.uN,{type:"monotone",dataKey:"debt",stackId:"1",stroke:"#dc2626",fill:"#dc2626",fillOpacity:.8,name:"Debt"}),(0,s.jsx)(p.uN,{type:"monotone",dataKey:"baseEquity",stackId:"1",stroke:"#16a34a",fill:"#16a34a",fillOpacity:.8,name:"Base Equity"}),(0,s.jsx)(p.uN,{type:"monotone",dataKey:"appreciation",stackId:"1",stroke:"#4ade80",fill:"#4ade80",fillOpacity:.7,name:"Appreciation"}),(0,s.jsx)(p.uN,{type:"monotone",dataKey:"btcValue",stackId:"1",stroke:"#ea580c",fill:"#ea580c",fillOpacity:.8,name:"BTC Value"})]})})})};function g(e){let{onSubmit:t,onInputChange:a,loading:n=!1,initialValues:i}=e,[c,d]=(0,l.useState)(1e5),[o,m]=(0,l.useState)(!1),[x,h]=(0,l.useState)([]),[p,g]=(0,l.useState)("refinance"),[y,j]=(0,l.useState)("200000"),[f,N]=(0,l.useState)("100000"),[b,v]=(0,l.useState)("2019"),[w,C]=(0,l.useState)("50000"),[F,S]=(0,l.useState)("600"),[T,k]=(0,l.useState)("4.0"),[I,A]=(0,l.useState)("20"),[P,M]=(0,l.useState)("30"),[R,E]=(0,l.useState)("6.0"),[B,V]=(0,l.useState)("2000"),[O,D]=(0,l.useState)("40000"),[L,$]=(0,l.useState)("20"),[q,H]=(0,l.useState)(0),[_,z]=(0,l.useState)(""),[Y,K]=(0,l.useState)(""),[U,G]=(0,l.useState)("8.5"),[Q,J]=(0,l.useState)("10"),[W,X]=(0,l.useState)("20"),[Z,ee]=(0,l.useState)("600"),[et,ea]=(0,l.useState)("100"),[es,el]=(0,l.useState)("100"),[er,en]=(0,l.useState)("0"),[ei,ec]=(0,l.useState)("percentage"),[ed,eo]=(0,l.useState)("200"),[em,ex]=(0,l.useState)("cycles"),[eh,ep]=(0,l.useState)("70"),[eu,eg]=(0,l.useState)("realist"),[ey,ej]=(0,l.useState)("25"),[ef,eN]=(0,l.useState)("3"),[eb,ev]=(0,l.useState)(0),[ew,eC]=(0,l.useState)(0),[eF,eS]=(0,l.useState)(0),[eT,ek]=(0,l.useState)(0),[eI,eA]=(0,l.useState)([{name:"Conservative",targetPrice:2e5,annualGrowthRate:.15,timeHorizonYears:30},{name:"Moderate",targetPrice:5e5,annualGrowthRate:.25,timeHorizonYears:30},{name:"Aggressive",targetPrice:1e6,annualGrowthRate:.4,timeHorizonYears:30}]);(0,l.useEffect)(()=>{eR()},[]),(0,l.useEffect)(()=>{let e=parseFloat(y)||0,t=parseFloat(w)||0;ev(e-t),eC(Math.max(0,.8*e-t))},[y,w]);let eP=e=>{D(e),$(((parseFloat(e)||0)/(parseFloat(y)||1)*100).toFixed(1))},eM=e=>{$(e),D(((parseFloat(e)||0)/100*(parseFloat(y)||0)).toFixed(0))};(0,l.useEffect)(()=>{if("refinance"===p){let e=(parseFloat(w)||0)+(parseFloat(O)||0)+(parseFloat(B)||0),t=(parseFloat(R)||0)/100/12,a=12*(parseFloat(P)||30);e>0&&t>0&&a>0&&H(t*Math.pow(1+t,a)*e/(Math.pow(1+t,a)-1)+((parseFloat(et)||0)+(parseFloat(es)||0)))}else{let e=parseFloat(O)||0,t=(parseFloat(U)||0)/100/12;H((parseFloat(F)||0)+e*t)}},[p,w,O,B,R,P,U,et,es,F]),(0,l.useEffect)(()=>{let e=parseFloat(F)||0,t=parseFloat(_)||q,a="refinance"===p?t:e+t;eS(Math.max(0,("refinance"===p?q:e+q)-a))},[p,F,_,q]),(0,l.useEffect)(()=>{let e=parseFloat(P)||30;eA(t=>t.map(t=>({...t,timeHorizonYears:e})))},[P]),(0,l.useEffect)(()=>{!_&&F&&z(F)},[F,_]),(0,l.useEffect)(()=>{!Z&&F&&ee(F)},[F,Z]),(0,l.useEffect)(()=>{if(y&&w&&F&&T&&O&&R){let e=eB();e&&(0,r.sf)(e).isValid&&t(e)}},[y,w,F,T,I,Z,et,es,er,p,O,P,R,B,U,Q,ei,ed,em,eh,eu,ey,ef,_]),(0,l.useEffect)(()=>{let e=parseFloat(Z)||0,t=parseFloat(et)||0,a=parseFloat(es)||0;ek(e-(t+a+(parseFloat(er)||0)+(parseFloat(F)||0)))},[Z,et,es,er,F]);let eR=async()=>{m(!0);try{let e=await fetch("https://api.coingecko.com/api/v3/simple/price?ids=bitcoin&vs_currencies=usd"),t=await e.json();t.bitcoin&&t.bitcoin.usd&&d(t.bitcoin.usd)}catch(e){console.error("Failed to fetch Bitcoin price:",e)}finally{m(!1)}},eE=()=>{let e=[],t=parseFloat(y);(!t||t<=0)&&e.push({field:"propertyValue",message:"Property value must be greater than zero",code:"INVALID_VALUE"});let a=parseFloat(w);(!a||a<=0)&&e.push({field:"currentBalance",message:"Current mortgage balance must be greater than zero",code:"INVALID_VALUE"});let s=parseFloat(F);(!s||s<=0)&&e.push({field:"monthlyPayment",message:"Monthly payment must be greater than zero",code:"INVALID_VALUE"});let l=parseFloat(T);(isNaN(l)||l<0||l>20)&&e.push({field:"currentInterestRate",message:"Interest rate must be between 0% and 20%",code:"INVALID_RATE"});let r=parseFloat(O);if((!r||r<=0)&&e.push({field:"cashOutAmount",message:"Cash-out amount must be greater than zero",code:"INVALID_VALUE"}),r>ew&&e.push({field:"cashOutAmount",message:"Cash-out amount cannot exceed $".concat(eO(ew)," (20% of property value or available equity)"),code:"INSUFFICIENT_EQUITY"}),"refinance"===p){let t=parseFloat(R);(isNaN(t)||t<0||t>20)&&e.push({field:"newInterestRate",message:"New interest rate must be between 0% and 20%",code:"INVALID_RATE"})}else{let t=parseFloat(U);(isNaN(t)||t<0||t>20)&&e.push({field:"helocInterestRate",message:"HELOC interest rate must be between 0% and 20%",code:"INVALID_RATE"})}return e},eB=()=>{if(eE().length>0)return null;let e={currentValue:parseFloat(y),purchasePrice:parseFloat(f),purchaseYear:parseInt(b),appreciationRate:parseFloat(ef)/100},t={currentBalance:parseFloat(w),monthlyPayment:parseFloat(F),interestRate:parseFloat(T)/100,remainingYears:parseFloat(I)},a={type:"refinance"===p?"cash-out-refinance":"heloc",cashOutAmount:parseFloat(O),newLoanAmount:"refinance"===p?parseFloat(w)+parseFloat(O)+parseFloat(B):parseFloat(w),newInterestRate:"refinance"===p?parseFloat(R)/100:parseFloat(U)/100,newLoanTermYears:"refinance"===p?parseFloat(P):parseFloat(Q),newMonthlyPayment:parseFloat(_)||q,closingCosts:parseFloat(B),monthlyPaymentIncrease:"refinance"===p?(parseFloat(_)||q)-parseFloat(F):parseFloat(_)||q},s={monthlyRentalIncome:parseFloat(Z)||0,monthlyTaxes:parseFloat(et)||0,monthlyInsurance:parseFloat(es)||0,monthlyHOA:parseFloat(er)||0,netMonthlyCashFlow:eT},l={type:ei,value:parseFloat(ed)||200};return{property:e,currentMortgage:t,propertyIncome:s,refinanceScenario:a,bitcoinInvestment:{investmentAmount:parseFloat(O),currentBitcoinPrice:c,targetScenarios:eI,performanceSettings:{model:"cycles"===em?"seasonal":"steady",customAnnualGrowthRate:eL(),useSeasonalFactors:"cycles"===em,maxDrawdownPercent:parseFloat(eh)||70}},payoffTrigger:l}},eV=e=>{var t;return null===(t=x.find(t=>t.field===e))||void 0===t?void 0:t.message},eO=e=>Math.round(e).toLocaleString(),eD=()=>(parseFloat(et)||0)+(parseFloat(es)||0),eL=()=>{switch(eu){case"bearish":return -20;case"realist":default:return 20;case"bullish":return 40;case"3xmaxi":return 60;case"custom":return parseFloat(ey)||25}};return(0,s.jsxs)("div",{className:"card",children:[(0,s.jsx)("h2",{className:"section-header",children:"Real Estate & Bitcoin Calculator"}),(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault();let a=eE();if(h(a),0===a.length){let e=eB();e&&t(e)}},className:"space-y-6",children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Property Information"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Property Value *"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"$"}),(0,s.jsx)("input",{type:"number",value:y,onChange:e=>j(e.target.value),className:"input-field pl-8 ".concat(eV("propertyValue")?"border-red-500":""),placeholder:"200,000",required:!0})]}),eV("propertyValue")&&(0,s.jsx)("p",{className:"mt-1 text-sm text-red-600",children:eV("propertyValue")})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Purchase Price"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"$"}),(0,s.jsx)("input",{type:"number",value:f,onChange:e=>N(e.target.value),className:"input-field pl-8",placeholder:"100,000"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Available Equity"}),(0,s.jsxs)("div",{className:"bg-blue-50 p-3 rounded-lg",children:[(0,s.jsxs)("div",{className:"text-lg font-semibold text-blue-900",children:["$",eO(eb)," (",(eb/(parseFloat(y)||1)*100).toFixed(0),"%)"]}),(0,s.jsxs)("div",{className:"text-sm text-blue-700 mt-1",children:["Max Cash-Out (80% LTV): $",eO(ew)]})]})]})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Current Mortgage"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Balance *"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"$"}),(0,s.jsx)("input",{type:"number",value:w,onChange:e=>C(e.target.value),className:"input-field pl-8 ".concat(eV("currentBalance")?"border-red-500":""),placeholder:"50,000",required:!0})]}),eV("currentBalance")&&(0,s.jsx)("p",{className:"mt-1 text-sm text-red-600",children:eV("currentBalance")})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:(0,s.jsxs)("span",{className:"flex items-center",children:["Monthly Payment (PITI) *",(0,s.jsx)("span",{className:"ml-1 text-blue-500 cursor-help",title:"Total monthly payment including Principal, Interest, Taxes & Insurance",children:"ℹ️"})]})}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"$"}),(0,s.jsx)("input",{type:"number",value:F,onChange:e=>S(e.target.value),className:"input-field pl-8 ".concat(eV("monthlyPayment")?"border-red-500":""),placeholder:"600",required:!0})]}),eV("monthlyPayment")&&(0,s.jsx)("p",{className:"mt-1 text-sm text-red-600",children:eV("monthlyPayment")})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Interest Rate *"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:"number",step:"0.01",value:T,onChange:e=>k(e.target.value),className:"input-field pr-8 ".concat(eV("currentInterestRate")?"border-red-500":""),placeholder:"4.0",required:!0}),(0,s.jsx)("span",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"%"})]}),eV("currentInterestRate")&&(0,s.jsx)("p",{className:"mt-1 text-sm text-red-600",children:eV("currentInterestRate")})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Remaining Years"}),(0,s.jsx)("input",{type:"number",value:I,onChange:e=>A(e.target.value),className:"input-field",placeholder:"20"})]})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Property Income & Expenses"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:(0,s.jsxs)("span",{className:"flex items-center",children:["Monthly Rental Income / Desired Payment",(0,s.jsx)("span",{className:"ml-1 text-blue-500 cursor-help",title:"Rental income or amount you want to pay monthly",children:"ℹ️"})]})}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"$"}),(0,s.jsx)("input",{type:"number",value:Z,onChange:e=>ee(e.target.value),className:"input-field pl-8",placeholder:"600"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Monthly Property Taxes (Optional)"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"$"}),(0,s.jsx)("input",{type:"number",value:et,onChange:e=>ea(e.target.value),className:"input-field pl-8",placeholder:"100"})]}),(0,s.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Only enter if known separately from total payment"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Monthly Insurance (Optional)"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"$"}),(0,s.jsx)("input",{type:"number",value:es,onChange:e=>el(e.target.value),className:"input-field pl-8",placeholder:"100"})]}),(0,s.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Only enter if known separately from total payment"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Monthly HOA / Other"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"$"}),(0,s.jsx)("input",{type:"number",value:er,onChange:e=>en(e.target.value),className:"input-field pl-8",placeholder:"0"})]})]})]}),(0,s.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,s.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Calculated Payment Breakdown"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-600",children:"P&I Amount:"}),(0,s.jsxs)("span",{className:"font-semibold ml-2",children:["$",eO((parseFloat(F)||0)-(parseFloat(et)||0)-(parseFloat(es)||0))]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-600",children:"T&I Amount:"}),(0,s.jsxs)("span",{className:"font-semibold ml-2",children:["$",eO((parseFloat(et)||0)+(parseFloat(es)||0))]})]})]}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"These values will be used for mortgage calculations"})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Loan Type"}),(0,s.jsxs)("div",{className:"flex space-x-4",children:[(0,s.jsx)("button",{type:"button",onClick:()=>g("refinance"),className:"px-4 py-2 rounded-lg border ".concat("refinance"===p?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"),children:"Cash-Out Refinance"}),(0,s.jsx)("button",{type:"button",onClick:()=>g("heloc"),className:"px-4 py-2 rounded-lg border ".concat("heloc"===p?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"),children:"HELOC"})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Investment Amount"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cash-Out Amount (Bitcoin Investment) *"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"$"}),(0,s.jsx)("input",{type:"number",value:O,onChange:e=>eP(e.target.value),className:"input-field pl-8 ".concat(eV("cashOutAmount")?"border-red-500":""),placeholder:"40,000",max:ew,required:!0})]}),eV("cashOutAmount")&&(0,s.jsx)("p",{className:"mt-1 text-sm text-red-600",children:eV("cashOutAmount")})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"OR Cash-Out Percentage"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:"number",step:"0.1",value:L,onChange:e=>eM(e.target.value),className:"input-field pr-8",placeholder:"20"}),(0,s.jsx)("span",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"%"})]}),(0,s.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Percentage of property value"})]})]}),"heloc"===p&&(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Target Equity Amount"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"$"}),(0,s.jsx)("input",{type:"number",value:W,onChange:e=>{X(e.target.value);let t=parseFloat(e.target.value)||0;$((t/(parseFloat(y)||1)*100).toFixed(1)),D(t.toString())},className:"input-field pl-8",placeholder:"40,000"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"OR Target Equity %"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:"number",step:"0.1",value:((parseFloat(W)||0)/(parseFloat(y)||1)*100).toFixed(1),onChange:e=>{let t=parseFloat(e.target.value)||0,a=(t/100*(parseFloat(y)||0)).toFixed(0);X(a),$(t.toString()),D(a)},className:"input-field pr-8",placeholder:"20"}),(0,s.jsx)("span",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"%"})]}),(0,s.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Percentage of property value"})]})]}),(0,s.jsx)("div",{className:"bg-blue-50 p-3 rounded-lg",children:(0,s.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,s.jsx)("strong",{children:"Maximum:"})," $",eO(ew)," (80% LTV limit)"]})})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"refinance"===p?"Refinance Terms":"HELOC Terms"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"refinance"===p?"New Loan Term":"HELOC Term"}),(0,s.jsxs)("select",{value:"refinance"===p?P:Q,onChange:e=>"refinance"===p?M(e.target.value):J(e.target.value),className:"input-field",children:[(0,s.jsx)("option",{value:"10",children:"10 years"}),(0,s.jsx)("option",{value:"15",children:"15 years"}),(0,s.jsx)("option",{value:"20",children:"20 years"}),(0,s.jsx)("option",{value:"25",children:"25 years"}),(0,s.jsx)("option",{value:"30",children:"30 years"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Interest Rate *"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:"number",step:"0.01",value:"refinance"===p?R:U,onChange:e=>"refinance"===p?E(e.target.value):G(e.target.value),className:"input-field pr-8 ".concat(eV("refinance"===p?"newInterestRate":"helocInterestRate")?"border-red-500":""),placeholder:"refinance"===p?"6.0":"8.5",required:!0}),(0,s.jsx)("span",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"%"})]}),eV("refinance"===p?"newInterestRate":"helocInterestRate")&&(0,s.jsx)("p",{className:"mt-1 text-sm text-red-600",children:eV("refinance"===p?"newInterestRate":"helocInterestRate")})]}),"refinance"===p&&(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Closing Costs"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"$"}),(0,s.jsx)("input",{type:"number",value:B,onChange:e=>V(e.target.value),className:"input-field pl-8",placeholder:"2,000"})]})]})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Loan Analysis"}),(0,s.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"refinance"===p?"Desired Monthly Payment":"Desired HELOC Payment"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"$"}),(0,s.jsx)("input",{type:"number",value:_,onChange:e=>z(e.target.value),className:"input-field pl-8",placeholder:eO(q)})]}),(0,s.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Leave blank to use estimated payment"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 pt-3 border-t border-gray-200",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-sm text-gray-600",children:"Current Monthly Payment:"}),(0,s.jsxs)("div",{className:"font-semibold",children:["$",eO(parseFloat(F))]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-sm text-gray-600",children:"refinance"===p?"Estimated New Payment:":"Estimated Total Payment:"}),(0,s.jsxs)("div",{className:"font-semibold",children:["$",eO(q)]}),(0,s.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"refinance"===p?eD()>0?"Includes $".concat(eO(eD())," original Tax & Ins"):"P&I only - no Tax & Ins entered":"Current mortgage + HELOC payment"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-sm text-gray-600",children:"refinance"===p?"New Loan Amount:":"HELOC Amount:"}),(0,s.jsxs)("div",{className:"font-semibold",children:["$","refinance"===p?eO((parseFloat(w)||0)+(parseFloat(O)||0)+(parseFloat(B)||0)):eO(parseFloat(O)||0)]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-sm text-gray-600",children:"Interest Rate:"}),(0,s.jsxs)("div",{className:"font-semibold",children:["refinance"===p?R:U,"%"]})]})]}),eF>0&&(0,s.jsxs)("div",{className:"bg-yellow-50 p-3 rounded border border-yellow-200",children:[(0,s.jsxs)("div",{className:"text-sm",children:[(0,s.jsx)("span",{className:"text-yellow-800 font-medium",children:"Monthly Shortfall:"}),(0,s.jsxs)("span",{className:"font-semibold ml-2",children:["$",eO(eF)]})]}),(0,s.jsx)("p",{className:"text-xs text-yellow-700 mt-1",children:"Bitcoin calculated by model to be sold each month cover this shortfall"})]})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Bitcoin Performance"}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("span",{className:"text-sm text-gray-600",children:"Current Price:"}),(0,s.jsx)("span",{className:"text-sm font-semibold ".concat(o?"text-gray-400":"text-green-600"),children:o?"Loading...":"$".concat(eO(c))}),(0,s.jsx)("button",{type:"button",onClick:eR,className:"text-xs text-blue-600 hover:text-blue-800",disabled:o,children:"Refresh"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Performance Model"}),(0,s.jsxs)("select",{value:em,onChange:e=>ex(e.target.value),className:"input-field",children:[(0,s.jsx)("option",{value:"cycles",children:"Cycles"}),(0,s.jsx)("option",{value:"flat",children:"Flat"})]}),(0,s.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Cycles use market patterns, Flat uses steady growth"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Drawdown"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:"number",step:"5",min:"10",max:"90",value:eh,onChange:e=>ep(e.target.value),className:"input-field pr-8",placeholder:"70"}),(0,s.jsx)("span",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"%"})]}),(0,s.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Maximum drawdown after bull market tops"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Performance Sentiment"}),(0,s.jsxs)("select",{value:eu,onChange:e=>eg(e.target.value),className:"input-field",children:[(0,s.jsx)("option",{value:"bearish",children:"Bearish (-20%)"}),(0,s.jsx)("option",{value:"realist",children:"Realist (20%)"}),(0,s.jsx)("option",{value:"bullish",children:"Bullish (40%)"}),(0,s.jsx)("option",{value:"3xmaxi",children:"3xMaxi (60%)"}),(0,s.jsx)("option",{value:"custom",children:"Custom"})]}),(0,s.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Annual growth rate expectation"})]}),"custom"===eu&&(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Custom Annual Growth Rate"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:"number",step:"0.1",value:ey,onChange:e=>ej(e.target.value),className:"input-field pr-8",placeholder:"25"}),(0,s.jsx)("span",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"%"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Property Appreciation"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:"number",step:"0.1",value:ef,onChange:e=>eN(e.target.value),className:"input-field pr-8",placeholder:"3"}),(0,s.jsx)("span",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"%"})]}),(0,s.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Annual property value appreciation"})]})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Payoff Trigger Settings"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Trigger Type"}),(0,s.jsxs)("select",{value:ei,onChange:e=>ec(e.target.value),className:"input-field",children:[(0,s.jsx)("option",{value:"percentage",children:"BTC Value as % of Remaining Debt"}),(0,s.jsx)("option",{value:"retained_amount",children:"Retain Specific BTC Amount"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"percentage"===ei?"Trigger Percentage":"Retained Amount"}),(0,s.jsx)("div",{className:"relative",children:"percentage"===ei?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("input",{type:"number",value:ed,onChange:e=>eo(e.target.value),className:"input-field pr-8",placeholder:"200"}),(0,s.jsx)("span",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"%"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"BTC"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:ed,onChange:e=>eo(e.target.value),className:"input-field pl-12",placeholder:"1.5"})]})}),(0,s.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"percentage"===ei?"Trigger payoff when BTC value reaches this % of remaining debt":"Trigger payoff while retaining this amount in BTC"})]})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Bitcoin Performance Report"}),(0,s.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-6 rounded-lg",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[(0,s.jsxs)("div",{className:"bg-white p-3 rounded-lg",children:[(0,s.jsx)("span",{className:"text-xs text-gray-600 font-medium",children:"BTC Target %"}),(0,s.jsxs)("div",{className:"text-lg font-bold text-blue-600",children:["percentage"===ei?ed:"200","%"]})]}),(0,s.jsxs)("div",{className:"bg-white p-3 rounded-lg",children:[(0,s.jsx)("span",{className:"text-xs text-gray-600 font-medium",children:"BTC Buy Price"}),(0,s.jsxs)("div",{className:"text-lg font-bold text-green-600",children:["$",eO(c)]})]}),(0,s.jsxs)("div",{className:"bg-white p-3 rounded-lg",children:[(0,s.jsx)("span",{className:"text-xs text-gray-600 font-medium",children:"BTC Bought"}),(0,s.jsxs)("div",{className:"text-lg font-bold text-orange-600",children:[((parseFloat(O)||0)/c).toFixed(6)," BTC"]})]}),(0,s.jsxs)("div",{className:"bg-white p-3 rounded-lg",children:[(0,s.jsx)("span",{className:"text-xs text-gray-600 font-medium",children:"Investment"}),(0,s.jsxs)("div",{className:"text-lg font-bold text-purple-600",children:["$",eO(parseFloat(O)||0)]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,s.jsxs)("div",{className:"bg-white p-3 rounded-lg",children:[(0,s.jsx)("span",{className:"text-xs text-gray-600 font-medium",children:"Performance"}),(0,s.jsxs)("div",{className:"text-lg font-bold text-indigo-600",children:[eL()>0?"+":"",eL(),"%"]}),(0,s.jsx)("div",{className:"text-xs text-gray-500",children:eu})]}),(0,s.jsxs)("div",{className:"bg-white p-3 rounded-lg",children:[(0,s.jsx)("span",{className:"text-xs text-gray-600 font-medium",children:"Model Type"}),(0,s.jsx)("div",{className:"text-lg font-bold text-teal-600",children:"cycles"===em?"Cycles":"Flat"})]}),(0,s.jsxs)("div",{className:"bg-white p-3 rounded-lg",children:[(0,s.jsx)("span",{className:"text-xs text-gray-600 font-medium",children:"Property Growth"}),(0,s.jsxs)("div",{className:"text-lg font-bold text-emerald-600",children:[ef,"%"]}),(0,s.jsx)("div",{className:"text-xs text-gray-500",children:"Annual"})]}),(0,s.jsxs)("div",{className:"bg-white p-3 rounded-lg",children:[(0,s.jsx)("span",{className:"text-xs text-gray-600 font-medium",children:"Monthly Shortfall"}),(0,s.jsxs)("div",{className:"text-lg font-bold ".concat(eF>0?"text-red-600":"text-green-600"),children:["$",eO(eF)]}),(0,s.jsx)("div",{className:"text-xs text-gray-500",children:eF>0?"BTC to sell":"Cash positive"})]})]}),(0,s.jsxs)("div",{className:"mt-4 p-3 bg-white rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"BTC Crashout Status:"}),(0,s.jsx)("span",{className:"px-3 py-1 rounded-full text-sm font-semibold ".concat(eL()>=20&&eF<.1*(parseFloat(O)||0)?"bg-green-100 text-green-800":eL()>=0?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:eL()>=20&&eF<.1*(parseFloat(O)||0)?"You never run out of Bitcoin at this shortfall.":eL()>=0?"CAUTION":"RISK"})]}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Based on performance sentiment and monthly cash flow requirements"})]})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Timeline Visualization"}),(0,s.jsxs)("div",{className:"bg-white p-6 border border-gray-200 rounded-lg",children:[(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"20-year projection showing debt paydown, property appreciation, and Bitcoin performance"}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-4 text-xs",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"w-3 h-3 bg-red-600 rounded mr-2"}),(0,s.jsx)("span",{children:"Debt"})]}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"w-3 h-3 bg-green-600 rounded mr-2"}),(0,s.jsx)("span",{children:"Base Equity"})]}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"w-3 h-3 bg-green-400 rounded mr-2"}),(0,s.jsx)("span",{children:"Appreciation"})]}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"w-3 h-3 bg-orange-600 rounded mr-2"}),(0,s.jsx)("span",{children:"BTC Value"})]})]})]}),(0,s.jsx)(u,{data:(()=>{let e=[],t=new Date,a=parseFloat(y)||2e5,s=parseFloat(O)||4e4,l=(parseFloat(w)||5e4)+s+(parseFloat(B)||2e3),r=eL()/100,n=(parseFloat(ef)||3)/100,i=12*(parseFloat(P)||30),c=(parseFloat(R)||6)/100/12,d=c>0?c*Math.pow(1+c,i)*l/(Math.pow(1+c,i)-1):l/i,o=l;for(let m=0;m<=Math.min(240,i);m++){let i;let x=new Date(t);if(x.setMonth(x.getMonth()+m),m>0&&o>0){let e=Math.min(d-o*c,o);o=Math.max(0,o-e)}let h=a*Math.pow(1+n/12,m),p=Math.max(0,a-l),u=h-a;if("cycles"===em){let e=(m-1)%48,t=Math.pow(1+r,1/12)-1,a=parseFloat(eh)||70,l=1;if(e<12)l=.5+.5*Math.pow(e/12,.5);else if(e<24)l=1+1*Math.pow((e-12)/12,.8);else if(e<36)l=2+1*Math.sin((e-24)/12*Math.PI);else{let t=(e-36)/12,s=a/100;l=t<.6?Math.max(1-s*Math.pow(t/.6,1.5),.1):1-s+s*Math.pow((t-.6)/.4,.7)}i=s*Math.pow(1+t*l,m)}else i=s*Math.pow(1+r/12,m);let g=m%12==0?x.getFullYear().toString():x.toISOString().slice(0,7);e.push({date:g,debt:o,baseEquity:p,appreciation:u,btcValue:Math.max(0,i),totalValue:h+Math.max(0,i)})}return e})(),height:350})]})]}),(0,s.jsxs)("div",{className:"pt-4 border-t",children:[(0,s.jsx)("button",{type:"submit",disabled:n,className:"w-full btn-primary ".concat(n?"opacity-50 cursor-not-allowed":""),children:n?"Calculating...":"Calculate Payoff Scenarios"}),x.length>0&&(0,s.jsxs)("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:[(0,s.jsx)("p",{className:"text-sm text-red-600 font-medium",children:"Please fix the following errors:"}),(0,s.jsx)("ul",{className:"mt-1 text-sm text-red-600 list-disc list-inside",children:x.map((e,t)=>(0,s.jsx)("li",{children:e.message},t))})]})]})]})]})}function y(e){let{results:t,loading:a=!1,error:l}=e;return a?(0,s.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6",children:(0,s.jsxs)("div",{className:"animate-pulse",children:[(0,s.jsx)("div",{className:"h-8 bg-gray-200 rounded mb-4"}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("div",{className:"h-4 bg-gray-200 rounded"}),(0,s.jsx)("div",{className:"h-4 bg-gray-200 rounded"}),(0,s.jsx)("div",{className:"h-4 bg-gray-200 rounded"})]})]})}):l?(0,s.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6",children:(0,s.jsxs)("div",{className:"text-red-600 text-center",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Calculation Error"}),(0,s.jsx)("p",{children:l})]})}):t&&t.monthlySchedule.length?(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-md",children:[(0,s.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,s.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Performance Summary"})}),(0,s.jsx)("div",{className:"p-6",children:(0,s.jsx)(f,{results:t})})]}),(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-md",children:[(0,s.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,s.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Amortization Table"})}),(0,s.jsx)("div",{className:"p-6",children:(0,s.jsx)(j,{schedule:t.monthlySchedule})})]})]}):(0,s.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6",children:(0,s.jsxs)("div",{className:"text-gray-500 text-center",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"No Results"}),(0,s.jsx)("p",{children:"Complete the calculator form to see results"})]})})}function j(e){let{schedule:t}=e;return(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("div",{className:"flex justify-between items-center",children:(0,s.jsxs)("p",{className:"text-sm text-gray-600",children:["Showing all ",t.length," months"]})}),(0,s.jsx)("div",{className:"overflow-x-auto border border-gray-200 rounded-lg",children:(0,s.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,s.jsx)("thead",{className:"bg-gray-50 sticky top-0",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Month"}),(0,s.jsx)("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),(0,s.jsx)("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Debt Balance"}),(0,s.jsx)("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Base Equity"}),(0,s.jsx)("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Appreciation"}),(0,s.jsx)("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"BTC Held"}),(0,s.jsx)("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"BTC Spot Price"}),(0,s.jsx)("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"BTC Value"}),(0,s.jsx)("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"BTC Performance"}),(0,s.jsx)("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Asset"}),(0,s.jsx)("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cash Flow"}),(0,s.jsx)("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Payoff Trigger"})]})}),(0,s.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map((e,t)=>(0,s.jsxs)("tr",{className:t%2==0?"bg-white":"bg-gray-50",children:[(0,s.jsx)("td",{className:"px-3 py-4 whitespace-nowrap text-sm text-gray-900",children:e.month}),(0,s.jsx)("td",{className:"px-3 py-4 whitespace-nowrap text-sm text-gray-900",children:e.yearMonth}),(0,s.jsx)("td",{className:"px-3 py-4 whitespace-nowrap text-sm text-gray-900",children:(0,r.formatCurrency)(e.debtBalance)}),(0,s.jsx)("td",{className:"px-3 py-4 whitespace-nowrap text-sm text-gray-900",children:(0,r.formatCurrency)(e.baseEquity)}),(0,s.jsx)("td",{className:"px-3 py-4 whitespace-nowrap text-sm text-gray-900",children:(0,r.formatCurrency)(e.propertyAppreciation)}),(0,s.jsxs)("td",{className:"px-3 py-4 whitespace-nowrap text-sm text-gray-900",children:[e.btcHeld.toFixed(6)," BTC"]}),(0,s.jsx)("td",{className:"px-3 py-4 whitespace-nowrap text-sm text-gray-900",children:(0,r.formatCurrency)(e.btcSpotPrice)}),(0,s.jsx)("td",{className:"px-3 py-4 whitespace-nowrap text-sm text-gray-900",children:(0,r.formatCurrency)(e.btcValue)}),(0,s.jsx)("td",{className:"px-3 py-4 whitespace-nowrap text-sm text-gray-900",children:(0,s.jsx)("span",{className:"".concat(e.btcPerformed>0?"text-green-600":e.btcPerformed<0?"text-red-600":"text-gray-600"),children:(0,r.formatPercent)(e.btcPerformed)})}),(0,s.jsx)("td",{className:"px-3 py-4 whitespace-nowrap text-sm text-gray-900",children:(0,r.formatCurrency)(e.totalAsset)}),(0,s.jsx)("td",{className:"px-3 py-4 whitespace-nowrap text-sm text-gray-900",children:(0,s.jsx)("span",{className:"".concat(e.netCashFlow>0?"text-green-600":e.netCashFlow<0?"text-red-600":"text-gray-600"),children:(0,r.formatCurrency)(e.netCashFlow)})}),(0,s.jsx)("td",{className:"px-3 py-4 whitespace-nowrap text-sm text-gray-900",children:e.payoffTriggerMet?(0,s.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Triggered"}):(0,s.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:"Not Met"})})]},e.month))})]})})]})}function f(e){let{results:t}=e,{payoffAnalysis:a,performanceSummary:l}=t;return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-6",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Payoff Analysis"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{className:"bg-white rounded-lg p-4",children:[(0,s.jsx)("h4",{className:"text-sm font-medium text-gray-600",children:"Trigger Month"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:a.triggerMonth?"Month ".concat(a.triggerMonth):"Not Triggered"}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:a.triggerDate||"N/A"})]}),(0,s.jsxs)("div",{className:"bg-white rounded-lg p-4",children:[(0,s.jsx)("h4",{className:"text-sm font-medium text-gray-600",children:"BTC Value at Trigger"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-green-600",children:(0,r.formatCurrency)(a.btcValueAtTrigger)})]}),(0,s.jsxs)("div",{className:"bg-white rounded-lg p-4",children:[(0,s.jsx)("h4",{className:"text-sm font-medium text-gray-600",children:"Debt at Trigger"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-red-600",children:(0,r.formatCurrency)(a.debtAtTrigger)})]}),(0,s.jsxs)("div",{className:"bg-white rounded-lg p-4",children:[(0,s.jsx)("h4",{className:"text-sm font-medium text-gray-600",children:"Interest Saved"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:(0,r.formatCurrency)(a.interestSaved)})]}),(0,s.jsxs)("div",{className:"bg-white rounded-lg p-4",children:[(0,s.jsx)("h4",{className:"text-sm font-medium text-gray-600",children:"BTC Retained"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-orange-600",children:(0,r.formatCurrency)(a.finalBTCRetained)})]})]})]}),(0,s.jsxs)("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg p-6",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Performance Summary"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{className:"bg-white rounded-lg p-4",children:[(0,s.jsx)("h4",{className:"text-sm font-medium text-gray-600",children:"Final Total Asset"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-green-600",children:(0,r.formatCurrency)(l.finalTotalAsset)})]}),(0,s.jsxs)("div",{className:"bg-white rounded-lg p-4",children:[(0,s.jsx)("h4",{className:"text-sm font-medium text-gray-600",children:"Final Property Value"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:(0,r.formatCurrency)(l.finalPropertyValue)})]}),(0,s.jsxs)("div",{className:"bg-white rounded-lg p-4",children:[(0,s.jsx)("h4",{className:"text-sm font-medium text-gray-600",children:"Final BTC Value"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-orange-600",children:(0,r.formatCurrency)(l.finalBTCValue)})]}),(0,s.jsxs)("div",{className:"bg-white rounded-lg p-4",children:[(0,s.jsx)("h4",{className:"text-sm font-medium text-gray-600",children:"Total ROI"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:(0,r.formatPercent)(l.totalROI)})]}),(0,s.jsxs)("div",{className:"bg-white rounded-lg p-4",children:[(0,s.jsx)("h4",{className:"text-sm font-medium text-gray-600",children:"Annualized Return"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-indigo-600",children:(0,r.formatPercent)(l.annualizedReturn)})]})]})]})]})}function N(){let[e,t]=(0,l.useState)(null),[a,n]=(0,l.useState)(!1),[i,c]=(0,l.useState)(null),d=async e=>{n(!0),c(null);try{console.log("\uD83E\uDDEE Starting comprehensive amortization calculation with inputs:",e);let a=(0,r.sf)(e);if(!a.isValid)throw Error("Validation failed: ".concat(a.errors.join(", ")));let s=(0,r.yj)(e);console.log("✅ Comprehensive calculation completed:",s),t(s)}catch(e){console.error("❌ Calculation error:",e),c(e instanceof Error?e.message:"Calculation failed")}finally{n(!1)}};return(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 p-8",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto space-y-8",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900 sm:text-4xl",children:"Bitcoin Real Estate Calculator"}),(0,s.jsx)("p",{className:"mt-4 text-lg text-gray-600",children:"How it looks to hold Bitcoin alongside Real Estate.          "}),(0,s.jsxs)("div",{className:"mt-4 text-sm text-blue-600",children:["\uD83E\uDDEA ",(0,s.jsx)("strong",{children:"Client Side Only:"})," None of your data is seen by this site."]})]}),(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsx)("div",{className:"w-full",children:(0,s.jsx)(g,{onSubmit:d,loading:a})}),(0,s.jsxs)("div",{className:"w-full space-y-4",children:[e&&!a&&(0,s.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[(0,s.jsx)("h3",{className:"text-green-800 font-semibold",children:"✅ Calculation Complete!"}),(0,s.jsxs)("div",{className:"mt-2 text-sm text-green-700",children:[(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Total months calculated:"})," ",e.monthlySchedule.length]}),e.payoffAnalysis.triggerMonth&&(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Payoff trigger month:"})," ",e.payoffAnalysis.triggerMonth]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Total ROI:"})," ",(100*(e.performanceSummary.totalROI||0)).toFixed(1),"%"]})]})]}),(0,s.jsx)(y,{results:e,loading:a,error:i||void 0})]})]}),e&&(0,s.jsxs)("details",{className:"mt-8",children:[(0,s.jsx)("summary",{className:"cursor-pointer text-sm text-gray-600 hover:text-gray-800",children:"\uD83D\uDD0D Debug Information (Click to expand)"}),(0,s.jsx)("pre",{className:"mt-2 text-xs bg-gray-100 p-4 rounded overflow-auto max-h-96",children:JSON.stringify({payoffAnalysis:e.payoffAnalysis,performanceSummary:e.performanceSummary,monthlyScheduleLength:e.monthlySchedule.length,firstThreeMonths:e.monthlySchedule.slice(0,3),chartDataLength:e.stackedChartData.length},null,2)})]})]})})}}},function(e){e.O(0,[520,456,971,117,744],function(){return e(e.s=6532)}),_N_E=e.O()}]);